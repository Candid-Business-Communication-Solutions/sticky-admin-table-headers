(function(e,i){"use strict";function t(t,s){var d=this;d.e=e(t),d.el=t,d.id=l++,d.w=e(i),d.d=e(document),d.e.bind("destroyed",e.proxy(d.teardown,d)),d.c=null,d.o=null,d.isSticky=!1,d.hasBeenSticky=!1,d.leftOffset=null,d.topOffset=null,d.init=function(){d.e.each(function(){var i=e(this);i.css("padding",0),d.o=e("thead:first",this),d.c=d.o.clone(),i.trigger("clonedHeader."+o,[d.c]),d.c.addClass("tableFloatingHeader"),d.c.css("display","none"),d.o.addClass("tableFloatingHeaderOriginal"),d.o.after(d.c),d.p=e('<style type="text/css" media="print">.tableFloatingHeader{display:none !important;}.tableFloatingHeaderOriginal{position:static !important; background-color:#ffffff !important;}</style>'),e("head").append(d.p)}),d.setOptions(s),d.updateWidth(),d.toggleHeaders(),d.bind()},d.destroy=function(){d.e.unbind("destroyed",d.teardown),d.teardown()},d.teardown=function(){d.isSticky&&d.o.css("position","static"),e.removeData(d.el,"plugin_"+o),d.unbind(),d.c.remove(),d.o.removeClass("tableFloatingHeaderOriginal"),d.o.css("visibility","visible"),d.p.remove(),d.el=null,d.e=null},d.bind=function(){d.s.on("scroll."+o,d.toggleHeaders),d.isWindowScrolling||(d.w.on("scroll."+o+d.id,d.setPositionValues),d.w.on("resize."+o+d.id,d.toggleHeaders)),d.s.on("resize."+o,d.toggleHeaders),d.s.on("resize."+o,d.updateWidth)},d.unbind=function(){d.s.off("."+o,d.toggleHeaders),d.isWindowScrolling||(d.w.off("."+o+d.id,d.setPositionValues),d.w.off("."+o+d.id,d.toggleHeaders)),d.s.off("."+o,d.updateWidth),d.e.off("."+o),d.e.find("*").off("."+o)},d.toggleHeaders=function(){d.e&&d.e.each(function(){var i,t=e(this),o=d.isWindowScrolling?isNaN(d.options.fixedOffset)?d.options.fixedOffset.outerHeight():d.options.fixedOffset:d.s.offset().top+(isNaN(d.options.fixedOffset)?0:d.options.fixedOffset),l=t.offset(),n=d.s.scrollTop()+o,s=d.s.scrollLeft(),a=d.isWindowScrolling?n>l.top:o>l.top,r=(d.isWindowScrolling?n:0)<l.top+t.height()-d.c.height()-(d.isWindowScrolling?0:o);a&&r?(i=l.left-s+d.options.leftOffset,d.o.css({position:"fixed","margin-top":0,left:i,"z-index":1}),d.leftOffset=i,d.topOffset=o,d.c.css("display",""),d.isSticky||(d.isSticky=!0,d.updateWidth()),d.setPositionValues()):d.isSticky&&(d.o.css("position","static"),d.c.css("display","none"),d.isSticky=!1,d.resetWidth(e("td,th",d.c),e("td,th",d.o)))})},d.setPositionValues=function(){var e=d.w.scrollTop(),i=d.w.scrollLeft();!d.isSticky||0>e||e+d.w.height()>d.d.height()||0>i||i+d.w.width()>d.d.width()||d.o.css({top:d.topOffset-(d.isWindowScrolling?0:e),left:d.leftOffset-(d.isWindowScrolling?0:i)})},d.updateWidth=function(){if(d.isSticky){d.o||(d.o=e("th,td",d.o)),d.c||(d.c=e("th,td",d.c));var i=d.getWidth(d.c);d.setWidth(i,d.c,d.o),d.o.css("width",d.c.width())}},d.getWidth=function(t){var o=[];return t.each(function(t){var l,n=e(this);if("border-box"===n.css("box-sizing"))l=n.outerWidth();else{var s=e("th",d.o);if("collapse"===s.css("border-collapse"))if(i.getComputedStyle)l=parseFloat(i.getComputedStyle(this,null).width);else{var a=parseFloat(n.css("padding-left")),r=parseFloat(n.css("padding-right")),c=parseFloat(n.css("border-width"));l=n.outerWidth()-a-r-c}else l=n.width()}o[t]=l}),o},d.setWidth=function(e,i,t){i.each(function(i){var o=e[i];t.eq(i).css({"min-width":o,"max-width":o})})},d.resetWidth=function(i,t){i.each(function(i){var o=e(this);t.eq(i).css({"min-width":o.css("min-width"),"max-width":o.css("max-width")})})},d.setOptions=function(t){d.options=e.extend({},n,t),d.s=e(d.options.scrollableArea),d.isWindowScrolling=d.s[0]===i},d.updateOptions=function(e){d.setOptions(e),d.unbind(),d.bind(),d.updateWidth(),d.toggleHeaders()},d.init()}var o="stickyTableHeaders",l=0,n={fixedOffset:0,leftOffset:0,scrollableArea:i};e.fn[o]=function(i){return this.each(function(){var l=e.data(this,"plugin_"+o);l?"string"==typeof i?l[i].apply(l):l.updateOptions(i):"destroy"!==i&&e.data(this,"plugin_"+o,new t(this,i))})}})(jQuery,window);(function($){jQuery('table').stickyTableHeaders({fixedOffset:$('#wpadminbar')})})(jQuery);
