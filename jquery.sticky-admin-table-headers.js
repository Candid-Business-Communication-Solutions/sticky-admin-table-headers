!function(e,t){"use strict";function n(n,u){var a=this;a.$el=e(n),a.el=n,a.id=i++,a.$window=e(t),a.$document=e(document),a.$el.bind("destroyed",e.proxy(a.teardown,a)),a.$newHeader=null,a.$oldHeader=null,a.isSticky=!1,a.hasBeenSticky=!1,a.leftOffset=null,a.topOffset=null,a.init=function(){a.$el.each(function(){var t=e(this);t.css("padding",0),a.$oldHeader=e("thead:first",this),a.$newHeader=a.$oldHeader.clone(),t.trigger("newHeader."+r,[a.$newHeader]),a.$newHeader.addClass("newWPListTable"),a.$newHeader.css("display","none"),a.$oldHeader.addClass("oldWPListTable"),a.$oldHeader.after(a.$newHeader),a.$printStyle=e('<style type="text/css" media="print">.newWPListTable{display:none !important;}.oldWPListTable{position:static !important; background-color:#ffffff !important;}</style>'),e("head").append(a.$printStyle)}),a.setOptions(u),a.updateWidth(),a.toggleHeaders(),a.bind()},a.destroy=function(){a.$el.unbind("destroyed",a.teardown),a.teardown()},a.teardown=function(){a.isSticky&&a.$oldHeader.css("position","static"),e.removeData(a.el,"plugin_"+r),a.unbind(),a.$newHeader.remove(),a.$oldHeader.removeClass("oldWPListTable"),a.$oldHeader.css("visibility","visible"),a.$printStyle.remove(),a.el=null,a.$el=null},a.bind=function(){a.$scrollableArea.on("scroll."+r,a.toggleHeaders),a.isWindowScrolling||(a.$window.on("scroll."+r+a.id,a.setPositionValues),a.$window.on("resize."+r+a.id,a.toggleHeaders)),a.$scrollableArea.on("resize."+r,a.toggleHeaders),a.$scrollableArea.on("resize."+r,a.updateWidth)},a.unbind=function(){a.$scrollableArea.off("."+r,a.toggleHeaders),a.isWindowScrolling||(a.$window.off("."+r+a.id,a.setPositionValues),a.$window.off("."+r+a.id,a.toggleHeaders)),a.$scrollableArea.off("."+r,a.updateWidth),a.$el.off("."+r),a.$el.find("*").off("."+r)},a.toggleHeaders=function(){a.$el&&a.$el.each(function(){var t,n=e(this),r=a.isWindowScrolling?isNaN(a.options.fixedOffset)?a.options.fixedOffset.outerHeight():a.options.fixedOffset:a.$scrollableArea.offset().top+(isNaN(a.options.fixedOffset)?0:a.options.fixedOffset),i=n.offset(),s=a.$scrollableArea.scrollTop()+r,o=a.$scrollableArea.scrollLeft(),u=a.isWindowScrolling?s>i.top:r>i.top,f=(a.isWindowScrolling?s:0)<i.top+n.height()-a.$newHeader.height()-(a.isWindowScrolling?0:r);u&&f?(t=i.left-o+a.options.leftOffset,a.$oldHeader.css({position:"fixed","margin-top":0,left:t,"z-index":1}),a.leftOffset=t,a.topOffset=r,a.$newHeader.css("display",""),a.isSticky||(a.isSticky=!0,a.updateWidth()),a.setPositionValues()):a.isSticky&&(a.$oldHeader.css("position","static"),a.$newHeader.css("display","none"),a.isSticky=!1,a.resetWidth(e("td,th",a.$newHeader),e("td,th",a.$oldHeader)))})},a.setPositionValues=function(){var e=a.$window.scrollTop(),t=a.$window.scrollLeft();!a.isSticky||0>e||e+a.$window.height()>a.$document.height()||0>t||t+a.$window.width()>a.$document.width()||a.$oldHeader.css({top:a.topOffset-(a.isWindowScrolling?0:e),left:a.leftOffset-(a.isWindowScrolling?0:t)})},a.updateWidth=function(){if(a.isSticky){a.$oldHeaderCells||(a.$oldHeaderCells=e("th,td",a.$oldHeader)),a.$newHeaderCells||(a.$newHeaderCells=e("th,td",a.$newHeader));var t=a.getWidth(a.$newHeaderCells);a.setWidth(t,a.$newHeaderCells,a.$oldHeaderCells),a.$oldHeader.css("width",a.$newHeader.width())}},a.getWidth=function(n){var r=[];return n.each(function(n){var i,s=e(this);if("border-box"===s.css("box-sizing"))i=s.outerWidth();else{var o=e("th",a.$oldHeader);if("collapse"===o.css("border-collapse"))if(t.getComputedStyle)i=parseFloat(t.getComputedStyle(this,null).width);else{var u=parseFloat(s.css("padding-left")),f=parseFloat(s.css("padding-right")),l=parseFloat(s.css("border-width"));i=s.outerWidth()-u-f-l}else i=s.width()}r[n]=i}),r},a.setWidth=function(e,t,n){t.each(function(t){var r=e[t];n.eq(t).css({"min-width":r,"max-width":r})})},a.resetWidth=function(t,n){t.each(function(t){var r=e(this);n.eq(t).css({"min-width":r.css("min-width"),"max-width":r.css("max-width")})})},a.setOptions=function(n){a.options=e.extend({},s,n),a.$scrollableArea=e(a.options.scrollableArea),a.isWindowScrolling=a.$scrollableArea[0]===t},a.updateOptions=function(e){a.setOptions(e),a.unbind(),a.bind(),a.updateWidth(),a.toggleHeaders()},a.init()}var r="fixWPListTables",i=0,s={fixedOffset:0,leftOffset:0,scrollableArea:t};e.fn[r]=function(t){return this.each(function(){var i=e.data(this,"plugin_"+r);i?"string"==typeof t?i[t].apply(i):i.updateOptions(t):"destroy"!==t&&e.data(this,"plugin_"+r,new n(this,t))})}}(jQuery,window),function(e){e("table.wp-list-table").fixWPListTables({fixedOffset:e("#wpadminbar")})}(jQuery)
